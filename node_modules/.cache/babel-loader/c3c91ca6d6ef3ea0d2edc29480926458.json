{"ast":null,"code":"'use strict';\n\nmodule.exports = lilypond;\nlilypond.displayName = 'lilypond';\nlilypond.aliases = [];\n\nfunction lilypond(Prism) {\n  ;\n\n  (function (Prism) {\n    var schemeExpression = /\\((?:[^();\"#\\\\]|\\\\[\\s\\S]|;.*|\"(?:[^\"\\\\]|\\\\.)*\"|#(?:\\{(?:(?!#\\})[\\s\\S])*#\\}|[^{])|<expr>)*\\)/.source; // allow for up to pow(2, recursivenessLog2) many levels of recursive brace expressions\n    // For some reason, this can't be 4\n\n    var recursivenessLog2 = 5;\n\n    for (var i = 0; i < recursivenessLog2; i++) {\n      schemeExpression = schemeExpression.replace(/<expr>/g, schemeExpression);\n    }\n\n    schemeExpression = schemeExpression.replace(/<expr>/g, /[^\\s\\S]/.source);\n    var lilypond = Prism.languages.lilypond = {\n      comment: /%(?:(?!\\{).*|\\{[\\s\\S]*?%\\})/,\n      'embedded-scheme': {\n        pattern: RegExp(/(^|[=\\s])#(?:\"(?:[^\"\\\\]|\\\\.)*\"|[^\\s()\"]*(?:[^\\s()]|<expr>))/.source.replace(/<expr>/g, schemeExpression), 'm'),\n        lookbehind: true,\n        greedy: true,\n        inside: {\n          scheme: {\n            pattern: /^(#)[\\s\\S]+$/,\n            lookbehind: true,\n            alias: 'language-scheme',\n            inside: {\n              'embedded-lilypond': {\n                pattern: /#\\{[\\s\\S]*?#\\}/,\n                greedy: true,\n                inside: {\n                  punctuation: /^#\\{|#\\}$/,\n                  lilypond: {\n                    pattern: /[\\s\\S]+/,\n                    alias: 'language-lilypond',\n                    inside: null // see below\n\n                  }\n                }\n              },\n              rest: Prism.languages.scheme\n            }\n          },\n          punctuation: /#/\n        }\n      },\n      string: {\n        pattern: /\"(?:[^\"\\\\]|\\\\.)*\"/,\n        greedy: true\n      },\n      'class-name': {\n        pattern: /(\\\\new\\s+)[\\w-]+/,\n        lookbehind: true\n      },\n      keyword: {\n        pattern: /\\\\[a-z][-\\w]*/i,\n        inside: {\n          punctuation: /^\\\\/\n        }\n      },\n      operator: /[=|]|<<|>>/,\n      punctuation: {\n        pattern: /(^|[a-z\\d])(?:'+|,+|[_^]?-[_^]?(?:[-+^!>._]|(?=\\d))|[_^]\\.?|[.!])|[{}()[\\]<>^~]|\\\\[()[\\]<>\\\\!]|--|__/,\n        lookbehind: true\n      },\n      number: /\\b\\d+(?:\\/\\d+)?\\b/\n    };\n    lilypond['embedded-scheme'].inside['scheme'].inside['embedded-lilypond'].inside['lilypond'].inside = lilypond;\n    Prism.languages.ly = lilypond;\n  })(Prism);\n}","map":{"version":3,"sources":["/Users/breakpoint/npm_work/test-app/node_modules/refractor/lang/lilypond.js"],"names":["module","exports","lilypond","displayName","aliases","Prism","schemeExpression","source","recursivenessLog2","i","replace","languages","comment","pattern","RegExp","lookbehind","greedy","inside","scheme","alias","punctuation","rest","string","keyword","operator","number","ly"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,OAAP,GAAiBC,QAAjB;AACAA,QAAQ,CAACC,WAAT,GAAuB,UAAvB;AACAD,QAAQ,CAACE,OAAT,GAAmB,EAAnB;;AACA,SAASF,QAAT,CAAkBG,KAAlB,EAAyB;AACvB;;AAAC,GAAC,UAASA,KAAT,EAAgB;AAChB,QAAIC,gBAAgB,GAAG,8FACpBC,MADH,CADgB,CAEN;AACV;;AACA,QAAIC,iBAAiB,GAAG,CAAxB;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,iBAApB,EAAuCC,CAAC,EAAxC,EAA4C;AAC1CH,MAAAA,gBAAgB,GAAGA,gBAAgB,CAACI,OAAjB,CAAyB,SAAzB,EAAoCJ,gBAApC,CAAnB;AACD;;AACDA,IAAAA,gBAAgB,GAAGA,gBAAgB,CAACI,OAAjB,CAAyB,SAAzB,EAAoC,UAAUH,MAA9C,CAAnB;AACA,QAAIL,QAAQ,GAAIG,KAAK,CAACM,SAAN,CAAgBT,QAAhB,GAA2B;AACzCU,MAAAA,OAAO,EAAE,6BADgC;AAEzC,yBAAmB;AACjBC,QAAAA,OAAO,EAAEC,MAAM,CACb,8DAA8DP,MAA9D,CAAqEG,OAArE,CACE,SADF,EAEEJ,gBAFF,CADa,EAKb,GALa,CADE;AAQjBS,QAAAA,UAAU,EAAE,IARK;AASjBC,QAAAA,MAAM,EAAE,IATS;AAUjBC,QAAAA,MAAM,EAAE;AACNC,UAAAA,MAAM,EAAE;AACNL,YAAAA,OAAO,EAAE,cADH;AAENE,YAAAA,UAAU,EAAE,IAFN;AAGNI,YAAAA,KAAK,EAAE,iBAHD;AAINF,YAAAA,MAAM,EAAE;AACN,mCAAqB;AACnBJ,gBAAAA,OAAO,EAAE,gBADU;AAEnBG,gBAAAA,MAAM,EAAE,IAFW;AAGnBC,gBAAAA,MAAM,EAAE;AACNG,kBAAAA,WAAW,EAAE,WADP;AAENlB,kBAAAA,QAAQ,EAAE;AACRW,oBAAAA,OAAO,EAAE,SADD;AAERM,oBAAAA,KAAK,EAAE,mBAFC;AAGRF,oBAAAA,MAAM,EAAE,IAHA,CAGK;;AAHL;AAFJ;AAHW,eADf;AAaNI,cAAAA,IAAI,EAAEhB,KAAK,CAACM,SAAN,CAAgBO;AAbhB;AAJF,WADF;AAqBNE,UAAAA,WAAW,EAAE;AArBP;AAVS,OAFsB;AAoCzCE,MAAAA,MAAM,EAAE;AACNT,QAAAA,OAAO,EAAE,mBADH;AAENG,QAAAA,MAAM,EAAE;AAFF,OApCiC;AAwCzC,oBAAc;AACZH,QAAAA,OAAO,EAAE,kBADG;AAEZE,QAAAA,UAAU,EAAE;AAFA,OAxC2B;AA4CzCQ,MAAAA,OAAO,EAAE;AACPV,QAAAA,OAAO,EAAE,gBADF;AAEPI,QAAAA,MAAM,EAAE;AACNG,UAAAA,WAAW,EAAE;AADP;AAFD,OA5CgC;AAkDzCI,MAAAA,QAAQ,EAAE,YAlD+B;AAmDzCJ,MAAAA,WAAW,EAAE;AACXP,QAAAA,OAAO,EAAE,sGADE;AAEXE,QAAAA,UAAU,EAAE;AAFD,OAnD4B;AAuDzCU,MAAAA,MAAM,EAAE;AAvDiC,KAA3C;AAyDAvB,IAAAA,QAAQ,CAAC,iBAAD,CAAR,CAA4Be,MAA5B,CAAmC,QAAnC,EAA6CA,MAA7C,CACE,mBADF,EAEEA,MAFF,CAES,UAFT,EAEqBA,MAFrB,GAE8Bf,QAF9B;AAGAG,IAAAA,KAAK,CAACM,SAAN,CAAgBe,EAAhB,GAAqBxB,QAArB;AACD,GAtEA,EAsEEG,KAtEF;AAuEF","sourcesContent":["'use strict'\n\nmodule.exports = lilypond\nlilypond.displayName = 'lilypond'\nlilypond.aliases = []\nfunction lilypond(Prism) {\n  ;(function(Prism) {\n    var schemeExpression = /\\((?:[^();\"#\\\\]|\\\\[\\s\\S]|;.*|\"(?:[^\"\\\\]|\\\\.)*\"|#(?:\\{(?:(?!#\\})[\\s\\S])*#\\}|[^{])|<expr>)*\\)/\n      .source // allow for up to pow(2, recursivenessLog2) many levels of recursive brace expressions\n    // For some reason, this can't be 4\n    var recursivenessLog2 = 5\n    for (var i = 0; i < recursivenessLog2; i++) {\n      schemeExpression = schemeExpression.replace(/<expr>/g, schemeExpression)\n    }\n    schemeExpression = schemeExpression.replace(/<expr>/g, /[^\\s\\S]/.source)\n    var lilypond = (Prism.languages.lilypond = {\n      comment: /%(?:(?!\\{).*|\\{[\\s\\S]*?%\\})/,\n      'embedded-scheme': {\n        pattern: RegExp(\n          /(^|[=\\s])#(?:\"(?:[^\"\\\\]|\\\\.)*\"|[^\\s()\"]*(?:[^\\s()]|<expr>))/.source.replace(\n            /<expr>/g,\n            schemeExpression\n          ),\n          'm'\n        ),\n        lookbehind: true,\n        greedy: true,\n        inside: {\n          scheme: {\n            pattern: /^(#)[\\s\\S]+$/,\n            lookbehind: true,\n            alias: 'language-scheme',\n            inside: {\n              'embedded-lilypond': {\n                pattern: /#\\{[\\s\\S]*?#\\}/,\n                greedy: true,\n                inside: {\n                  punctuation: /^#\\{|#\\}$/,\n                  lilypond: {\n                    pattern: /[\\s\\S]+/,\n                    alias: 'language-lilypond',\n                    inside: null // see below\n                  }\n                }\n              },\n              rest: Prism.languages.scheme\n            }\n          },\n          punctuation: /#/\n        }\n      },\n      string: {\n        pattern: /\"(?:[^\"\\\\]|\\\\.)*\"/,\n        greedy: true\n      },\n      'class-name': {\n        pattern: /(\\\\new\\s+)[\\w-]+/,\n        lookbehind: true\n      },\n      keyword: {\n        pattern: /\\\\[a-z][-\\w]*/i,\n        inside: {\n          punctuation: /^\\\\/\n        }\n      },\n      operator: /[=|]|<<|>>/,\n      punctuation: {\n        pattern: /(^|[a-z\\d])(?:'+|,+|[_^]?-[_^]?(?:[-+^!>._]|(?=\\d))|[_^]\\.?|[.!])|[{}()[\\]<>^~]|\\\\[()[\\]<>\\\\!]|--|__/,\n        lookbehind: true\n      },\n      number: /\\b\\d+(?:\\/\\d+)?\\b/\n    })\n    lilypond['embedded-scheme'].inside['scheme'].inside[\n      'embedded-lilypond'\n    ].inside['lilypond'].inside = lilypond\n    Prism.languages.ly = lilypond\n  })(Prism)\n}\n"]},"metadata":{},"sourceType":"script"}